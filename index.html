<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Valentine ğŸ’–</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(120deg, #ff4e8a, #ff9a9e);
  font-family: Arial, sans-serif;
  overflow: hidden;
}

.container {
  height: 100%;
  text-align: center;
  padding-top: 40px;
}

h1 {
  color: white;
  font-size: 2rem;
  text-shadow: 2px 2px 10px #ff1493;
  padding: 0 15px;
}

.play-area {
  position: relative;
  width: 100%;
  height: 65vh;
}

button {
  padding: 16px 28px;
  font-size: 18px;
  border: none;
  border-radius: 16px;
  position: absolute;
  cursor: pointer;
  transition: transform 0.25s ease;
}

#yes { background: #4CAF50; color: white; left: 20%; top: 45%; }
#no  { background: #f44336; color: white; left: 60%; top: 45%; }

#yes:hover { transform: scale(1.1); }
#no:hover  { transform: scale(1.05); }

.hidden { display: none; }

#result img {
  width: 90%;
  max-width: 320px;
  border-radius: 16px;
  margin-top: 20px;
}

.emoji {
  position: fixed;
  font-size: 26px;
  animation: fall 3s linear forwards;
}

@keyframes fall {
  from { top: -10%; }
  to { top: 110%; }
}

.confetti {
  position: fixed;
  width: 8px;
  height: 14px;
  background: red;
  animation: confetti 3s linear forwards;
}

@keyframes confetti {
  from { transform: translateY(-10vh) rotate(0); }
  to { transform: translateY(110vh) rotate(720deg); }
}
</style>
</head>

<body>

<div class="container">
  <h1 id="question">Will you be my Valentine? ğŸ’ğŸ¥º</h1>

  <div class="play-area" id="playArea">
    <button id="yes">Yes ğŸ’–</button>
    <button id="no">No ğŸ’”</button>
  </div>

  <div id="yesResult" class="hidden">
    <h1>YAYYYY ğŸ’• I knew it!!! ğŸ¥°</h1>
    <img src="dog.gif" />
  </div>

  <div id="noResult" class="hidden">
    <h1>ğŸ˜­ Mujhe NO keh diyaâ€¦</h1>
    <img src="dog.gif" />
  </div>
</div>

<audio id="yesSong" src="Dil Cheer Ke Dekh(KoshalWorld.Com).mp3"></audio>
<audio id="noSong"  src="Dil Tod Ke Hansti Ho Mera(KoshalWorld.Com).mp3"></audio>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const playArea = document.getElementById("playArea");
const question = document.getElementById("question");

const yesResult = document.getElementById("yesResult");
const noResult = document.getElementById("noResult");

const yesSong = document.getElementById("yesSong");
const noSong = document.getElementById("noSong");

const teasingLines = [
  "Pakad ke dikhao ğŸ˜",
  "YES itna mushkil hai kya ğŸ˜ˆ",
  "Fast ho jao ğŸ˜œ",
  "Almost! ğŸ˜‚",
  "Aaj YES mil hi jayega ğŸ˜"
];

let teaseIndex = 0;
let audioUnlocked = false;

/* ğŸ”Š Safe play */
function playFrom(audio, time, loop=false) {
  audio.pause();
  audio.currentTime = time;
  audio.loop = loop;
  audio.volume = 0;
  audio.play().then(() => {
    let v = 0;
    const fade = setInterval(() => {
      v += 0.05;
      audio.volume = Math.min(v, 1);
      if (v >= 1) clearInterval(fade);
    }, 80);
  }).catch(() => {});
}

/* ğŸ˜ˆ Move YES */
function moveYes() {
  const w = playArea.clientWidth - yesBtn.offsetWidth;
  const h = playArea.clientHeight - yesBtn.offsetHeight;

  yesBtn.style.left = Math.random() * w + "px";
  yesBtn.style.top  = Math.random() * h + "px";

  question.textContent = teasingLines[teaseIndex % teasingLines.length];
  teaseIndex++;
}

/* YES interaction */
yesBtn.addEventListener("click", (e) => {
  if (!audioUnlocked) {
    playFrom(yesSong, 34);
    audioUnlocked = true;
    moveYes();
    return;
  }

  // SUCCESS ğŸ‰
  yesSong.pause();
  playFrom(yesSong, 34, true);

  playArea.classList.add("hidden");
  question.classList.add("hidden");
  yesResult.classList.remove("hidden");

  for (let i = 0; i < 40; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "vw";
    c.style.background = ["#ff4e8a","#fff","#ff1493","#ffc0cb"][i%4];
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 3000);
  }
});

/* Hover / near miss */
yesBtn.addEventListener("mouseenter", () => {
  if (audioUnlocked) moveYes();
});

/* NO click */
noBtn.addEventListener("click", () => {
  yesSong.pause();
  playFrom(noSong, 87);

  playArea.classList.add("hidden");
  question.classList.add("hidden");
  noResult.classList.remove("hidden");

  if (navigator.vibrate) navigator.vibrate([200,100,200]);

  for (let i = 0; i < 25; i++) {
    const e = document.createElement("div");
    e.className = "emoji";
    e.textContent = "ğŸ˜­";
    e.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(e);
    setTimeout(() => e.remove(), 3000);
  }
});
</script>

</body>
</html>
