<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ðŸ’–</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(120deg, #ff4e8a, #ff9a9e);
  font-family: Arial, sans-serif;
  overflow: hidden;
}

.container {
  height: 100%;
  text-align: center;
  padding-top: 30px;
}

h1 {
  color: white;
  font-size: 2rem;
  text-shadow: 2px 2px 10px #ff1493;
  padding: 0 15px;
}

.play-area {
  position: relative;
  width: 100%;
  height: 65vh;
}

button {
  padding: 16px 28px;
  font-size: 18px;
  border: none;
  border-radius: 16px;
  position: absolute;
  cursor: pointer;
  transition: transform 0.25s ease;
}

#yes { background: #4CAF50; color: white; left: 20%; top: 45%; }
#no  { background: #f44336; color: white; left: 60%; top: 45%; }

.top-btn {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(255,255,255,0.25);
  color: white;
  padding: 8px 14px;
  border-radius: 12px;
  font-size: 14px;
}

.hidden { display: none; }

#result img {
  width: 90%;
  max-width: 320px;
  border-radius: 16px;
  margin-top: 20px;
}

.emoji, .heart {
  position: fixed;
  font-size: 26px;
  animation: fall 3s linear forwards;
}

@keyframes fall {
  from { top: -10%; }
  to { top: 110%; }
}

.confetti {
  position: fixed;
  width: 8px;
  height: 14px;
  animation: confetti 3s linear forwards;
}

@keyframes confetti {
  from { transform: translateY(-10vh) rotate(0); }
  to { transform: translateY(110vh) rotate(720deg); }
}
</style>
</head>

<body>

<button id="langBtn" class="top-btn">HI</button>

<div class="container">
  <h1 id="question"></h1>

  <div class="play-area" id="playArea">
    <button id="yes">Yes ðŸ’–</button>
    <button id="no">No ðŸ’”</button>
  </div>

  <div id="yesResult" class="hidden">
    <h1 id="yesText"></h1>
    <img src="dog.gif">
  </div>

  <div id="noResult" class="hidden">
    <h1 id="noText"></h1>
    <img src="dog.gif">
  </div>
</div>

<audio id="yesSong" src="Dil Cheer Ke Dekh(KoshalWorld.Com).mp3"></audio>
<audio id="noSong" src="Dil Tod Ke Hansti Ho Mera(KoshalWorld.Com).mp3"></audio>

<script>
/* =========================
   ðŸ’‘ CUSTOM COUPLE NAMES
========================= */
const fromName = "Aakash";
const toName   = "You";

/* =========================
   ðŸŒ LANGUAGE DATA
========================= */
const text = {
  en: {
    question: `Will you be my Valentine, ${toName}? ðŸ’ðŸ¥º`,
    yesWin: `YAY ${toName}! â¤ï¸ ${fromName} is officially yours ðŸ˜`,
    noLose: "ðŸ˜­ You broke my heartâ€¦"
  },
  hi: {
    question: `${toName}, meri Valentine banogi? ðŸ’–ðŸ¥º`,
    yesWin: `YAY ${toName}! â¤ï¸ ${fromName} tumhara ho gaya ðŸ˜`,
    noLose: "ðŸ˜­ Dil tod diya yaarâ€¦"
  }
};

let lang = "en";

/* =========================
   ðŸŽµ AUDIO SETTINGS
========================= */
const YES_START = 34;
const NO_START  = 87;

/* =========================
   GAME LOGIC
========================= */
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const question = document.getElementById("question");
const yesText = document.getElementById("yesText");
const noText = document.getElementById("noText");
const playArea = document.getElementById("playArea");
const yesResult = document.getElementById("yesResult");
const noResult = document.getElementById("noResult");
const langBtn = document.getElementById("langBtn");

const yesSong = document.getElementById("yesSong");
const noSong = document.getElementById("noSong");

let dodgeCount = 0;
let audioUnlocked = false;

/* =========================
   FUNCTIONS
========================= */
function updateText() {
  question.textContent = text[lang].question;
  yesText.textContent = text[lang].yesWin;
  noText.textContent = text[lang].noLose;
}

updateText();

langBtn.onclick = () => {
  lang = lang === "en" ? "hi" : "en";
  langBtn.textContent = lang.toUpperCase();
  updateText();
};

function playFrom(audio, time, loop=false) {
  audio.pause();
  audio.currentTime = time;
  audio.loop = loop;
  audio.volume = 0;
  audio.play().then(() => {
    let v = 0;
    const fade = setInterval(() => {
      v += 0.05;
      audio.volume = Math.min(v,1);
      if (v >= 1) clearInterval(fade);
    }, 80);
  }).catch(()=>{});
}

function moveYes() {
  const w = playArea.clientWidth - yesBtn.offsetWidth;
  const h = playArea.clientHeight - yesBtn.offsetHeight;
  yesBtn.style.left = Math.random()*w + "px";
  yesBtn.style.top  = Math.random()*h + "px";
}

/* =========================
   YES BUTTON
========================= */
yesBtn.onclick = () => {
  if (!audioUnlocked) {
    playFrom(yesSong, YES_START);
    audioUnlocked = true;
  }

  if (dodgeCount < 3) {
    dodgeCount++;
    moveYes();
    return;
  }

  // SUCCESS ðŸŽ‰
  yesSong.pause();
  playFrom(yesSong, YES_START, true);

  playArea.classList.add("hidden");
  question.classList.add("hidden");
  yesResult.classList.remove("hidden");

  for (let i=0;i<40;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=["#ff4e8a","#fff","#ffc0cb","#ff1493"][i%4];
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }

  for (let i=0;i<20;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.textContent="ðŸ’–";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  }
};

/* Desktop tease */
yesBtn.onmouseenter = () => {
  if (audioUnlocked && dodgeCount < 3) moveYes();
};

/* =========================
   NO BUTTON
========================= */
noBtn.onclick = () => {
  yesSong.pause();
  playFrom(noSong, NO_START);

  playArea.classList.add("hidden");
  question.classList.add("hidden");
  noResult.classList.remove("hidden");

  if (navigator.vibrate) navigator.vibrate([200,100,200]);

  for (let i=0;i<25;i++){
    const e=document.createElement("div");
    e.className="emoji";
    e.textContent="ðŸ˜­";
    e.style.left=Math.random()*100+"vw";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),3000);
  }
};
</script>

</body>
</html>
